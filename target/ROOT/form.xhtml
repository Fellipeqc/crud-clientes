<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

<h:head>
    <title>Cadastro de Cliente</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/primefaces@8.0/themes/saga/theme.css" />
    <h:outputStylesheet library="primefaces" name="primeicons/primeicons.css"/>
</h:head>

<h:body>
    <h:form id="formCadastro">
        <p:panel header="#{clienteBean.cliente != null and clienteBean.cliente.id == null ? 'Novo Cliente' : clienteBean.cliente != null ? 'Editar Cliente' : 'Null'}" style="margin: 40px auto; max-width: 600px;">
            <p:messages id="msgs" autoUpdate="true" closable="true" showDetail="true" />

            <p:panelGrid columns="2" columnClasses="ui-grid-col-4,ui-grid-col-8" layout="grid" styleClass="ui-panelgrid-blank" style="width: 100%;">
                
                <p:outputLabel for="nome" value="Nome:" />
                <p:inputText id="nome" value="#{clienteBean.cliente.nome}" required="true" label="Nome" />

                <p:outputLabel for="email" value="Email:" />
                <p:inputText id="email" value="#{clienteBean.cliente.email}" required="true" label="Email">
                    <f:validateRegex pattern="[^@ ]+@[^@ ]+\.[^@ ]+" />
                </p:inputText>

                <p:outputLabel for="telefone" value="Telefone:" />
                <p:inputMask id="telefone" value="#{clienteBean.cliente.telefone}" mask="(99) 99999-9999" />

                <p:outputLabel for="endereco" value="EndereÃ§o:" />
                <p:inputText id="endereco" value="#{clienteBean.cliente.endereco}" />

                <p:outputLabel for="observacao" value="ObservaÃ§Ã£o:" />
                <p:inputTextarea id="observacao" value="#{clienteBean.cliente.observacao}" rows="3" autoResize="true" />
            </p:panelGrid>

            <p:separator style="margin-top:20px;"/>

            <div style="text-align: center; margin-top: 20px;">
               <p:commandButton value="Salvar"
                                icon="pi pi-check"
                                action="#{clienteBean.salvar}"
                                ajax="false"
                                styleClass="ui-button-success"
                                style="margin-right:10px;" />

                <p:commandButton value="Voltar"
                                 icon="pi pi-arrow-left"
                                 action="index.xhtml?faces-redirect=true"
                                 immediate="true"
                                 styleClass="ui-button-secondary" />
            </div>
        </p:panel>
    </h:form>
</h:body>
</html>
